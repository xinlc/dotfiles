
## 我的常用软件

- [Awesome Mac](https://github.com/jaywcjlove/awesome-mac) - 作为一名程序员你应该知道 **Awesome**
- [少数派](https://sspai.com) - 软件资讯

### 系统工具

- [腾讯柠檬](https://github.com/Tencent/lemon-cleaner) - mac系统优化清理工具。
- [uTools](https://u.tools) - 生产力工具集。
- [rubick](https://github.com/rubickCenter/rubick) - 开源工具箱，对标 uTools。
- [Alfred 4](https://www.alfredapp.com) - 本地搜索及应用快速启动
- [Raycast](https://www.raycast.com/) - 类似Alfred功能，重要的是免费。
- [Cerebro](https://github.com/cerebroapp/cerebro) - 开源的 launcher。
- [sol](https://github.com/ospfranco/sol) - 替代 Alfred、Spotlight 和 Raycast。
- [AltTab](https://github.com/lwouis/alt-tab-macos) - 模拟 Windows Alt+Tab。建议快捷键设置成 Command+tab 代替系统默认 cmd+tab
- [Bartender 4](https://www.macbartender.com/Bartender4/) - 方便的管理菜单栏图标。
- [hidden](https://github.com/dwarvesf/hidden) - 一个超轻的 MacOS 实用程序，有助于隐藏菜单栏图标。
- [Cakebrew](https://github.com/brunophilipe/Cakebrew) - Homebrew GUI
- [CheatSheet](https://www.mediaatelier.com/CheatSheet/) - 快速查看mac应用快捷键
- [Clipy](https://github.com/Clipy/Clipy) - 历史剪切板。现在用的 Alfred 带的剪切板功能。
- [Flux](https://justgetflux.com) - f.lux 护眼神器
- [Logi Options+](https://support.logi.com/hc/zh-cn/articles/4418699283607) - Logitech Options 逻辑大师鼠标
- [Go2Shell](https://zipzapmac.com/go2shell) - 在当前目录打开终端（Mac OS 11.2 兼容有问题，建议用 OpenInTerminal）
- [OpenInTerminal](https://github.com/Ji4n1ng/OpenInTerminal) - 在当前目录打开终端（代替 Go2Shell）
- [Thor](https://github.com/gbammc/Thor) - 快捷键打开应用 和 Manico 类似 (App Store)
- [PopClip](https://pilotmoon.com/popclip/) - 划词扩展工具 (App Store)
- [Karabiner-Elements](https://github.com/pqrs-org/Karabiner-Elements) - 键盘键位修改神器
- [Contexts](https://contexts.co) - 窗口切换神器，代替 Command-Tab。Manico 和 AltTab 功能组合
- [iStat Menus](https://bjango.com/mac/istatmenus/) - 优秀的系统监控工具
- [xbar/BitBar](https://github.com/matryer/xbar) - 将任何脚本或程序的输出放入 MacOS 菜单栏。
- [Rectangle](https://github.com/rxhanson/Rectangle) - 使用键盘快捷键和捕捉区域在 macOS 上移动和调整窗口大小。
- [Mos](https://github.com/Caldis/Mos) - 一个用于在MacOS上平滑你的鼠标滚动效果的小工具, 让你的滚轮爽如触控板。
- [MonitorControl](https://github.com/MonitorControl/MonitorControl) - 控制外接显示器的亮度和音量。
- Xnip - 最好用的mac长截图/截图工具 (App Store)
- iShop - 优秀的截图录屏工具 (App Store)
- Gifox 2 - 最好用的Gif动画录制工具 (App Store)
- Yoink - 一款移动复制文件效率工具 (App Store)
- Magnet - mac窗口整理神器 (App Store)
- Manico - 应用启动和切换工具 (App Store)
- The Unarchiver - 解压神器 (App Store)
- Easy New File - 自定义右键新建文档 (App Store)
- 超级右键 专业版 - 增强右键功能 (App Store)
- 自动切换输入法 专业版 - 自动切换中英文输入法（App Store）
- HazeOver - 提升工作专注力神器 (App Store)
- Dynamic Wallpaper - 动态壁纸 (App Store)
- TinyCal - 日历(App Store)

### 应用软件

- [Clash](https://github.com/Dreamacro/clash) - 科学上网，哎！通往世界的大门
- [网易云音乐](https://music.163.com/#/download) - 音乐
- [网易有道词典](http://cidian.youdao.com/index-mac.html) - 词典
- [百度网盘](https://pan.baidu.com/download#pan) - 网盘
- [钉钉](https://page.dingtalk.com/wow/dingtalk/act/download) - 企业办公工具
- [腾讯会议](https://meeting.tencent.com/download/) - 会议。
- [Bob](https://github.com/ripperhe/Bob) - 划词翻译和截图翻译工具
- [Chrome](https://www.google.cn/chrome/) - 最好用的浏览器没有之一
- [Qutebrowser](https://github.com/qutebrowser/qutebrowser) - 如果您正在寻找一款使用Vim风格的键盘操作的浏览器，那么开源的Qutebrowser将会是个不错的选择。
- [Vieb](https://github.com/Jelmerro/Vieb) - 类似 Qutebrowser。
- [Firefox](http://www.firefox.com.cn) - 信仰浏览器
- [Microsoft Edge](https://www.microsoft.com/zh-cn/edge) - 微软基于 Chromium 开发的新版浏览器。
- [WPS Office](https://www.wps.cn) - 办公套件
- [XMind](https://www.xmind.cn) - 脑图神器
- [IINA](https://github.com/iina/iina) - 全能播放器
- [uPic](https://github.com/gee1k/uPic) - 最好用的Mac图床客户端
- [Transmit](https://www.panic.com/transmit/) - 最好用的FTP客户端 (App Store)
- [PDF Expert](https://pdfexpert.com) - 好用的PDF编辑器
- [licecap](https://github.com/justinfrankel/licecap) - 轻量小巧的录屏工具。
- [OBS](https://github.com/obsproject/obs-studio) - OBS Studio - 用于直播和屏幕录制的免费开源软件。
- [RustDesk](https://github.com/rustdesk/rustdesk) - 开源虚拟与远程桌面基础架构。
- [VirtualBox](https://www.virtualbox.org/wiki/Downloads) - 开源虚拟机。
- [Parallels Desktop](https://www.parallels.cn/products/desktop/trial/) - 虚拟机。
- [Telegram](https://telegram.org/) - TG
- [Spark](https://sparkmailapp.com/zh) - 邮箱
- [Microsoft Outlook](https://www.microsoft.com/zh-cn/microsoft-365/outlook/email-and-calendar-software-microsoft-outlook) - 邮箱  (App Store)
- [阿里云盘](https://www.aliyundrive.com) - 云盘
- [START](https://start.qq.com) - 腾讯START云游戏平台。
- Microsoft OneNote - 云笔记 (App Store)
- QQ - 童年生活方式 (App Store)
- 微信 - 一个生活方式 (App Store)

### 图形设计

- [drawio](https://github.com/jgraph/drawio-desktop) - 画图神器
- [excalidraw](https://github.com/excalidraw/excalidraw) - 手绘风画图神器
- [Slidev](https://github.com/slidevjs/slidev) - Markdown 语法来实现 PPT
- [Mermaid](https://github.com/mermaid-js/mermaid) - Markdown 语法来实现图表，类似 PlantUML
- [tldraw](https://github.com/tldraw/tldraw) - 一个非常好的白板
- [ProcessOn](https://www.processon.com) - 国内版 Draw.io
- [OmniGraffle](https://www.omnigroup.com/omnigraffle/) - 画图神器
- [PDManer](https://gitee.com/robergroup/pdmaner) - 国产数据库建模工具
- [Sketch](https://www.sketch.com) - 最好用的矢量绘图软件
- [Photoshop](https://www.adobe.com/cn/products/photoshop.html) - 使用最多的图片处理工具

### 编程开发

- [iTerm2](https://github.com/gnachman/iTerm2) - 终端神器
- [Alacritty](https://github.com/alacritty/alacritty) - 一个跨平台的 OpenGL 终端模拟器。
- [wezterm](https://github.com/wez/wezterm) - Rust 实现的 GPU 加速跨平台终端仿真器和多路复用器。
- [SwitchHosts](https://github.com/oldj/SwitchHosts) - hosts 修改工具
- [Another Redis Desktop Manager](https://github.com/qishibo/AnotherRedisDesktopManager) - Redis 客户端
- [MySQL Workbench](https://dev.mysql.com/downloads/workbench/) - MySQL 官方客户端
- [Navicat Premium](http://www.navicat.com.cn) - 强大的数据库管理工具
- [Postman](https://www.postman.com/downloads/) - Api 调试神器
- [hoppscotch](https://github.com/hoppscotch/hoppscotch) - 开源 API 开发生态系统（原postwomen）。对标 Postman、insomnia等。
- [JMeter](http://jmeter.apache.org/download_jmeter.cgi) - 压测工具
- [Typora](https://www.typora.io) - 最好用的 Markdown 编辑器没有~~之一~~
- [Obsidian](https://obsidian.md/) - 代替 Typora
- [Logseq](https://github.com/logseq/logseq) - 大纲类型文档
- [Visual Studio Code](https://code.visualstudio.com) - 全能代码编辑器
- [IntelliJ IDEA](https://www.jetbrains.com/idea/) - java 开发集成环境
- [DataGrip](https://www.jetbrains.com/datagrip/) - 数据库工具。
- [PyCharm](https://www.jetbrains.com/zh-cn/pycharm/) - Python IDE。
- [Android Studio](https://developer.android.com/studio) - Android 开发集成环境
- [Docker](https://www.docker.com/get-started) - 应用容器引擎
- [Podman](https://github.com/containers/podman) - 代替 Docker
- [Charles](https://www.charlesproxy.com) - http抓包神器
- [Dash](https://kapeli.com/dash) - API文档和代码片段管理
- [rime](https://github.com/rime) - 聪明的输入法
- [DevToysMac](https://github.com/ObuchiYuki/DevToysMac) - 开发工具集。
- [Emacs](https://www.gnu.org/software/emacs/) - Emacs是神的编辑器，而Vim是编辑器之神。
- [AppFlowy](https://github.com/AppFlowy-IO/appflowy) - 开源版 Notion。
- [jsoncrack](https://github.com/AykutSarac/jsoncrack.com) - 超级优雅的 JSON 数据可视化工具
- [Beekeeper Studio](https://github.com/beekeeper-studio/beekeeper-studio) - 一款跨平台的数据库管理工具。
- Xcode - 不做IOS开发最好也装，有的软件需要依赖 (App Store)

## 安装软件

### [Homebrew](https://brew.sh/)

- [清华大学镜像](https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/)
- [中科大镜像](https://mirrors.ustc.edu.cn/help/brew.git.html)

```bash
xcode-select --install

# /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

echo 'eval $(/opt/homebrew/bin/brew shellenv)' >> /Users/richard/.zprofile
eval $(/opt/homebrew/bin/brew shellenv)
```

### 常用命令

```bash
brew --help
brew search xxx
brew install xxx
brew uninstall xxx
brew services start|stop|restart xxx
```

### 软件导入导出

```bash
# /usr/local/bin/brew bundle dump
# /opt/homebrew/bin/brew bundle --file /path/to/Brewfile

cd ~
brew bundle dump
brew bundle --file ~/Brewfile
```

### brew 清单

```bash
# readline - 依赖
# automake - 依赖
# wine     - 依赖
# openssl  - 依赖
# cmake    - 依赖
# usbmuxd    - 依赖
# ios-deploy - 依赖
# autoconf   - 依赖
# sl - 跑火车，休息一下
# neovim - 代替 vim。https://github.com/neovim/neovim
# autojump - 告别又臭又长的路径名，一键直达任何目录。 https://github.com/wting/autojump
# nvm - node 多版本管理。https://github.com/nvm-sh/nvm
# bat - 带有语法高亮和Git集成的 cat(1) 克隆 http://github.com/sharkdp/bat
# exa - 用来替换 ls 命令的现代化工具。https://github.com/ogham/exa，https://github.com/eza-community/eza
# yarn - node 包管理工具比npm好用，更快
# tmux - 一个优秀的终端复用器类自由软件。https://github.com/tmux/tmux
# mycli - 为 MySQL 命令行客户端，提供语法高亮和提示功能的工具！https://github.com/dbcli/mycli
# watchman - 监控文件变化 for RN
# python - 可以安装指定版本 python，建议用 conda 管理版本
# node - 建议用 nvm 安装 nodejs
# wget     - linux wget命令
# coreutils  - greadlink 需要
# maven    - maven ，建议用 idea自带的maven
# sqlite   - 轻量级数据库
# tree     - linux tree 命令
# cocoapods - xcode 包管理
# mysql@5.7  - 建议用 docker
# flow       - react flow.js
# ctop - 代替 top https://github.com/bcicen/ctop
# btop - 代替 top https://github.com/aristocratos/btop
# bottom - 代替 top https://github.com/ClementTsang/bottom
# thefuck - 命令输入错误后，输入fuck 自动纠正错误命令。https://github.com/nvbn/thefuck
# fd - 简单、快速、好用，用于替换 find 的搜索工具。https://github.com/sharkdp/fd
# ripgrep - rg 代替 grep/ack/ag。 https://github.com/BurntSushi/ripgrep
# fzf - fzf 是一款支持模糊过滤交互式工具(配合 fd、rg 非常强大）。https://github.com/junegunn/fzf 
  ## To install useful key bindings and fuzzy completion:
  ## $(brew --prefix)/opt/fzf/install

# nushell - 生产力 shell 工具。目标：取代 PowerShell 和 zsh。https://github.com/nushell/nushell
# ranger - 终端文件资源管理器。https://github.com/ranger/ranger
# fselect - 使用类似 SQL 的查询查找文件。https://github.com/jhspetersson/fselect
# httpie - 现代命令行 HTTP 客户端 - 用户友好的 curl 替代方案，具有直观的 UI、JSON 支持、语法突出显示、类似 wget 的下载、扩展等。https://github.com/httpie/httpie/
# hstr - 终端历史命令建议 https://github.com/dvorka/hstr
# mcfly - 浏览 shell 历史命令，跟 hstr 一样 https://github.com/cantino/mcfly
# nnn - 终端文件管理器 跟 ranger 类似, 可以代替 ls https://github.com/jarun/nnn
# lf - 终端文件管理器，跟 ranger 类似。https://github.com/gokcehan/lf
# xplr - 终端文件管理器，跟 ranger 类似。https://github.com/sayanarijit/xplr
# joshuto - 终端文件管理器，跟 ranger 类似(Rust 重写)。https://github.com/kamiyaa/joshuto
# felix - tui 文件管理器，具有类似 vim 的键映射。https://github.com/kyoheiu/felix
# fpp - 将终端输出结果文件，选择打开, `git status | fpp` https://github.com/facebook/PathPicker
# xo/xo/usql - SQL 数据库的通用命令行界面 https://github.com/xo/usql
# gobang - 用 Rust 编写的跨平台 TUI 数据库管理工具 https://github.com/TaKO8Ki/gobang
# xxh - 使用 ssh 时带上 shell 配置。https://github.com/xxh/xxh
# zoxide - 更智能的 cd 命令，代替 autojump。https://github.com/ajeetdsouza/zoxide
# cloc - 计算代码行数。 https://github.com/AlDanial/cloc
# starship - Starship 是由 Rust 编写的命令行主题，简单高效、容易配置（基本不用配置），而且跨平台。代替 ohmyposh 和 powerline10k。 https://github.com/starship/starship
# lazygit - 用于 git 命令的简单终端 UI。https://github.com/jesseduffield/lazygit
# lazydocker - 用于 docker 命令的简单终端 UI。https://github.com/jesseduffield/lazydocker
# gitui - git 终端用户界面，类似 lazygit。https://github.com/extrawurst/gitui
# hetty - 用于安全研究的 HTTP 工具包，代替 Burp Suite Pro。brew install hettysoft/tap/hetty。https://github.com/dstotijn/hetty/
# mitmproxy - 抓包工具。类似 Fiddler、Charles、wireshark、Whistle。https://github.com/mitmproxy/mitmproxy/
# asdf - 管理多个运行环境版本的简单命令行工具，代替 nvm、pyenv等社区有大量插件。https://github.com/asdf-vm/asdf
# rtx - asdf rust 版本。https://github.com/jdx/rtx
# tre-command - 现代的 tree 命令。https://github.com/dduan/tre/
# broot - 一种查看和导航目录tree的新方法，它集成了ls, tree, find, grep, du, fzf等工具的常用功能。https://github.com/Canop/broot
# zellij - 终端复用器（multiplexer），类似 Tmux。https://github.com/zellij-org/zellij
# tealdeer - 替换 tldr 和 man。https://github.com/dbrgn/tealdeer
# tokei - 统计代码量。https://github.com/XAMPPRocky/tokei
# helix - 后现代终端编辑器，类似 vim。https://github.com/helix-editor/helix
# chezmoi - 多台机器上管理你的个人配置文件 dotfiles。https://github.com/twpayne/chezmoi
# git-delta - git、diff 输出查看器。https://github.com/dandavison/delta
# cheat - 在命令行上创建和查看交互式备忘单。https://github.com/cheat/cheat
# navi - 用于命令行的交互式备忘单工具。跟cheat类似。https://github.com/denisidoro/navi
# gping - ping，但带有图表。https://github.com/orf/gping
# procs - ps 用 Rust 编写的现代替代品。https://github.com/dalance/procs
# dog - 一个用户友好的命令行 DNS 客户端，代替 dig。https://github.com/ogham/dog
# espanso - 输入法扩展器（Text Expander）。https://github.com/espanso/espanso
# monolith - 用于将完整网页保存为单个 HTML 文件的 CLI 工具。https://github.com/Y2Z/monolith/
# archivebox - 开源自托管 Web 归档。https://github.com/ArchiveBox/ArchiveBox/
# rustscan - 端口扫描工具。https://github.com/RustScan/RustScan
# git-branchless - 是一套以多种方式增强 Git 的工具。https://github.com/arxanas/git-branchless
# jenv - jdk 多版本支持。https://github.com/jenv/jenv
# fnm - 代替 nvm。 https://github.com/Schniz/fnm
# atuin - Atuin 使用 SQLite 数据库取代了你现有的 shell 历史。https://github.com/atuinsh/atuin
# uutils-coreutils - 替换 coreutils。https://github.com/uutils/coreutils
# dust - 代替 du。https://github.com/bootandy/dust
# duf - 代替 df。https://github.com/muesli/duf
# lsd - 代替 ls。https://github.com/lsd-rs/lsd
# choose-rust - 代替 awk。https://github.com/theryangeary/choose
# sd - 代替 sed。https://github.com/chmln/sd
# yazi - 跟 joshuto 类似，但更快。https://github.com/sxyazi/yazi

```

### brew cask 清单

新版本命令 cask 改为参数如：`brew install --cask openinterminal`

```bash
# android-studio
# blisk
# genymotion
# sequel-pro
# tableplus
# mysql-workbench
# sourcetree
# virtualbox
# clipy
# Alfred
# AirDroid
# Charles
# Dash
# CheatSheet
# Flux
# IINA
# Franz
# IntelliJ IDEA
# iTerm2
# Keyboard Maestro
# Docker
# Kitematic
# LICEcap
# pap.er
# Postman
# WPS Office
# TeamViewer
# zoom.us
# Cakebrew
# hyper
# contexts - https://contexts.co/
# typora - https://www.typora.io
# f.lux - https://justgetflux.com
# aText - https://www.trankynam.com/atext/
# switchhosts - https://github.com/oldj/SwitchHosts
# go2shell - https://zipzapmac.com/go2shell
# another-redis-desktop-manager - https://github.com/qishibo/AnotherRedisDesktopManager
# openinterminal - 代替 go2shell
# hammerspoon - 自动化神奇。通过桥接操作系统与 Lua 脚本引擎的方式，让我们可以通过编写 Lua 代码来实现操作应用程序、窗口、鼠标、文本、音频设备、电池、屏幕、剪切板、定位、wifi等。基本囊括了系统的各方面。https://github.com/Hammerspoon/hammerspoon
# redisinsight - RedisInsight 是一个直观高效的 Redis GUI 管理工具(官方工具）。https://github.com/RedisInsight/RedisInsight
# squirrel - 鼠须管输入法。https://github.com/rime。https://github.com/rime/squirrel
# hiddenbar - 隐藏菜单栏图标。https://github.com/dwarvesf/hidden
# rectangle - 简单的移动和调整大小的窗口。https://github.com/rxhanson/Rectangle
# mos - 一个用于在 macOS 上平滑你的鼠标滚动效果或单独设置滚动方向的小工具。https://github.com/Caldis/Mos
# raycast - Raycast 是一款速度极快、完全可扩展的启动器。它可以让您完成任务、计算、共享公共链接等等。https://www.raycast.com/
# devtoys - 开发工具集。https://github.com/ObuchiYuki/DevToysMac
# motrix - 全能下载器。https://github.com/agalwood/Motrix

```

### 其他命令

```bash
# tdlr 是 Too long, Don't read 的缩写，可以帮助你快速查看常用命令的使用实例，比如 tar 命令，那后面一长串参数谁记得清呢？当然，linux 大佬除外。
https://github.com/tldr-pages/tldr

# 终端文件管理器（资源管理器 finder)，Ranger 使用 Python 编写，默认为使用 vim 风格的按键绑定，对于使用 vim 的用户来说几乎没有学习成本，能够快速上手使用。
https://github.com/ranger/ranger

# forgit 交互式 git，基于 fzf 实现
https://github.com/wfxr/forgit

# 字体， https://github.com/ryanoasis/nerd-fonts
brew tap homebrew/cask-fonts && brew install --cask font-fira-code-nerd-font

# 霞鹜文楷 https://github.com/lxgw/LxgwWenKai
# 字体名：LXGW WenKai Mono
brew tap homebrew/cask-fonts && brew install font-lxgw-wenkai
```

### [conda](https://docs.conda.io/en/latest/miniconda.html)

- [miniconda](https://docs.conda.io/en/latest/miniconda.html)
- [Anaconda](https://docs.anaconda.com/anaconda/install/)
- [清华大学镜像](https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/)
- [中科大镜像](https://mirrors.ustc.edu.cn/help/anaconda.html)
- [阿里云镜像](https://developer.aliyun.com/mirror/)

```bash
curl -O https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-arm64.sh
bash Miniconda3-latest-MacOSX-arm64.sh

# 创建一个环境，指定python版本
conda create --name machinelearning python=3.8

# 启动该环境
conda activate machinelearning

# 验证环境是否被选中
conda info --envs

# 验证python版本
python --version

# 禁用环境
conda deactivate

# 删除整个环境
conda remove -n machinelearning --all

# 重命名环境
conda create -n python2 --clone py2
conda remove -n py2 --all
```

#### tmux 中 conda 环境无法生效问题

原因是：在conda环境下进入的tmux，这时在tmux中重加载conda环境失败。

解决：首先退出并关闭会话，在终端退出conda环境，新建进入会话，在tmux会话中激活所需conda环境方可生效。

```bash
tmux kill-session xxx
conda deactivate
tmux new -s xxx
conda activate

# 或 关闭自动激活 base 环境
conda config --set auto_activate_base false

# 可以在执行 tmux 前执行别名 condadown，在 .zshrc 中默认激活指定环境，这样进入 tmux 后就会自动激活环境
```

### [mamba](https://github.com/mamba-org/mamba) 代替 conda

- [miniforge](https://github.com/conda-forge/miniforge) 代替 miniconda

```bash
wget https://github.com/conda-forge/miniforge/releases/latest/download/Mambaforge-MacOSX-arm64.sh
bash Mambaforge-MacOSX-arm64.sh

mamba create --name dev python=3.9
mamba activate dev"
```

## 安装 zsh

> 不建议瞎搞 bash 。瞎搞 zsh 出问题之后还可以用 bash，瞎搞 bash 出问题之后你用什么？

- [iterm2](https://www.iterm2.com/downloads.html)
- [Mac Terminal 配置](https://blog.lichao.xin/tools/mac-terminal/)

```bash
brew install zsh

zsh --version

# 将zsh设置为默认的Shell。
# chsh -s /bin/zsh
chsh -s /opt/homebrew/bin/zsh
```

### [oh my zsh 配置](https://github.com/ohmyzsh/ohmyzsh)

```bash
# 安装 on my zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"

# 安装 PowerLine
# sudo easy_install pip
pip install powerline-status --user

# 安装 PowerFonts
git clone https://github.com/powerline/fonts.git --depth=1
cd fonts
./install.sh

# 设置字体
iTerm2 -> Preferences -> Profiles -> Text，在Font区域选中Change Font，然后找到 `Meslo LG S for Powerline`

# 安装配色方案(新版iTerm2 已经默认安装)
# cd solarized/iterm2-colors-solarized/
# open .
# 在打开的finder窗口中，双击Solarized Dark.itermcolors和Solarized Light.itermcolors即可安装明暗两种配色

# 安装 agnoster 主题（已自带）
# git clone https://github.com/fcamblor/oh-my-zsh-agnoster-fcamblor.git
# cd oh-my-zsh-agnoster-fcamblor/
# ./install

# 安装插件
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $ZSH_CUSTOM/plugins/zsh-syntax-highlighting
git clone https://github.com/zsh-users/zsh-autosuggestions.git $ZSH_CUSTOM/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-history-substring-search.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-history-substring-search
git clone https://github.com/zsh-users/zsh-completions.git ${ZSH_CUSTOM:=~/.oh-my-zsh/custom}/plugins/zsh-completions

# 安装 powerlevel10k 主题
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k

# echo 'ZSH_THEME="powerlevel10k/powerlevel10k"' >> ~/.zshrc
# 此时重开一个iTerm窗口，会进入主题配置引导，有非常详细的注释跟着选就好，选完就能用了。或手动执行 `p10k configure` 重新配置。

# 字体
# 可以推荐相关字体仓库 Nerd font（https://github.com/ryanoasis/nerd-fonts）
# `p10k configure` 字体选择可以自动安装或手动选择字体打开iTerm2 → Preferences → Profiles → Text并将Font设置为 MesloLGL Nerd Font Mono
brew tap homebrew/cask-fonts &&
brew install --cask font-meslo-lg-nerd-font

# 卸载
uninstall_oh_my_zsh
```

## mac 免密ssh登陆配置

1. 检查是否已存在公私钥对

在mac上打开terminal。更改目录到~/.ssh目录。list当前目录可以看到所有公私钥文件。拥有.pub结尾的文件是公钥文件，无.pub的是私钥文件。

```bash
# 更换目录到 ~/.ssh
cd ~/.ssh  

# 查看当前目录公私钥文件
ls             
```

2. 生成公私钥对（可选步骤）

这部适用于上一步list观察之后当前文件夹不存在公私钥对的情况。

```bash
# 根据交互，输入你想要的名字（默认id_rsa）
# 然后是passphrase，设置为空即可。这样就生成了一对公私钥  
ssh-keygen  

# 这时候当前目录下会多了一对公私钥对。
ls                
```

3. 上传公钥到服务器

这一步从本地将公钥文件上传到服务器指定目录。

```bash
# user是你的ssh的用户，host是服务器地址，这时候还要输入密码。
# 例子：ssh-copy-id -i id_rsa.pub root@111.111.111.111
ssh-copy-id -i [公钥文件] user@host 
```

4. ssh-add（mac的坑点）

好一般别的系统到第三步就可以免密登陆了，但是mac并不这样。还要调用ssh-add。

```bash
ssh-add -K [你的私钥文件，就是那个不加.pub结尾的文件] 
# 例如，ssh-add -K id_rsa
```

## Java SKD

### 老版Mac java8

```bash
brew tap AdoptOpenJDK/openjdk
brew cask install adoptopenjdk8
```

### M1 芯片 Mac

#### 使用IDE安装SDK

File -> Project Structre -> SDKs -> Azul 1.8 aarch64

安装后终端无需任何配置

```bash
# 查看JDK根目录命令
/usr/libexec/java_home -V

# 查看JDK版本
java -version
```

指定JDK版本

```zsh
# JDK S
export JAVA_HOME=/Users/richard/Library/Java/JavaVirtualMachines/azul-1.8.0_292/Contents/Home
# export CLASSPAHT=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
export CLASSPATH=.:$JAVA_HOME/lib
export PATH=$JAVA_HOME/bin:$PATH
# JDK E
```

切换多个java的版本

```zsh
export JAVA_7_HOME="$(/usr/libexec/java_home -v 1.7)"
export JAVA_8_HOME="$(/usr/libexec/java_home -v 1.8)"
export JAVA_9_HOME="$(/usr/libexec/java_home -v 9)"

alias jdk7='export JAVA_HOME=$JAVA_7_HOME'
alias jdk8='export JAVA_HOME=$JAVA_8_HOME'
alias jdk9='export JAVA_HOME=$JAVA_9_HOME'

# 默认使用JDK8
export JAVA_HOME=$JAVA_8_HOME

# 使用以下命令切换
# jdk8
# java -version
# jdk9
# java -version
```

#### 使用SDKMAN管理JDK

https://github.com/sdkman/sdkman-cli

https://sdkman.io/install

```bash
# 安装
curl -s "https://get.sdkman.io" | bash

# 安装到自定义位置
# export SDKMAN_DIR="/usr/local/sdkman" && curl -s "https://get.sdkman.io" | bash

# 打开一个新终端执行，会自动添加到zshrc中
source "$HOME/.sdkman/bin/sdkman-init.sh"

# 查看版本
sdk version

# 备份后卸载，最后删除 zshrc 配置
tar zcvf ~/sdkman-backup_$(date +%F-%kh%M).tar.gz -C ~/ .sdkman
rm -rf ~/.sdkman

# 查看所有支持工具
sdk list

# 查看一下工具的不同版本
# 例如查看gradle的版本
sdk list gradle

# 安装软件指定版本
sdk install gradle 5.6.2

# 查看当前软件版本
sdk current

# 切换当前软件版本
sdk use gradle 4.10.3
```

## Python

```bash
brew install python2.7
brew install python3.9

curl https://bootstrap.pypa.io/pip/2.7/get-pip.py -o get-pip2.py
sudo python2 get-pip2.py

curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
sudo python3 get-pip.py
```

## Mac升级bash到最新版本

由于bash3.2不支持关联数组，需要升级到bash4

mac自带的bash为3.2版本，而最新的bash是4.9，需要升级了，才能支持关联数组等新特性。

1. brew install bash
2. 安装到`/usr/local/bin/bash` or `/opt/homebrew/bin/bash` 里面。可以通过修改/etc/shells文件，来完成开机使用新版本的bash，或者修改环境变量（PATH）让 /usr/local/bin提前。
3. 但是，无法改变/bin/bash的版本，这里仍旧为3.2版本，这给使用脚本带来不便，因为默认都是#!/bin/bash
4. 细查后，发现原来mac系统禁止更改系统目录的权限，引入sip机制，需要先关闭，修改，再打开这一系列操作。
5. 下面是打开和关闭sip的步骤：
  - (1)重启OSX系统，然后按住Command+R
  - (2)出现界面之后，选择Utilities menu中Terminal
  - (3)在Terminal中输入csrutil disable关闭SIP(csrutil enable打开SIP)
  - (4)重启reboot OSX

6. 关闭sip后，加入软连接，在打开sip

```bash
# 这时候有两个 bash, 在PATH变量中，新版本（/usr/local/bin）的目录优先于旧版本（/bin），所以现在再检测Bash版本时就显示已是新版
which -a bash

sudo mv /bin/bash /bin/bash3.2
sudo ln -s /usr/local/bin/bash /bin/bash

# 由于 macOS 下的 sh 并不是直接链接 bash，而是 bash 的一个文件拷贝。所以还要替换默认的 sh 指向的命令为 bash，如下：
sudo mv /bin/sh /bin/sh.origin
sudo ln -s /usr/local/opt/bash/bin/bash /bin/sh
```

7. UNIX包含一个安全功能，该功能将可用作登录shell的shell（即登录到系统后使用的shell）限制为“受信任”shell列表。这些shell列在/etc/shells文件。

要将新安装的 Bash shell 设置成默认shell，它必须能够作为登录shell。将其添加到/etc/shells文件。以root用户身份编辑此文件：

```bash
$ sudo vim /etc/shells
/bin/bash
/bin/csh
/bin/ksh
/bin/sh
/bin/tcsh
/bin/zsh
/usr/local/bin/bash
```

现在如果打开一个新终端窗口，仍然会使用Bash 3.2。这是因为/bin/bash仍然是默认shell。修改成新shell，执行以下命令：

```bash
$ chsh -s /usr/local/bin/bash

# chsh命令仅修改当前用户的默认shell。如果想修改root用户，执行以下操作：这样当使用 sudo su ，以root用户身份打开shell时，也将使用新版Bash。
$ sudo chsh -s /usr/local/bin/bash
```

## 日历设置

- 新建日历订阅

```bash
# 法定节假日
https://p10-calendars.icloud.com/published/2/MTI3Njk0MTQxNzEyNzY5NFRvxM53AOH-Px17vHeUETlZdUggoyEt2KnFiIqHg40FkRXfcQJjYoa2dULRarI9z4UlbHxK-kLOohfiRVSSP7Q

# 中国法定节假日
https://p22-calendars.icloud.com/published/2/RL1JwQQtKFudYOiicAG_adz9DdrozFeZzv5Uyrs4s3gyWobdzL1NZFH-ZHAsTfuAevtnzdqVdYmcRO_Y_dWtxeIdmzUA1TNkAt5RuotJmsg
```

## MacOS 禁用 Option（Alt）+ 键盘输出特殊字符(希腊字符)

### iTerm2

iTerm2 -> Profiles -> 选择当前配置 -> Keys -> 将 Left Option Key 改为 Esc+

### vscode

terminal.integrated.macOptionIsMeta 为 true

### MacOs 默认终端

描述文件 -> 键盘 -> 将 Option 键作用Meta键

## 配置 github 的 ssh key

由于众所周知的原因，大陆用户访问github会受到限制，经过测试之后发现使用ssh完全不会受到影响。

### 添加github的ssh key

先安装openssh（以archlinux为例，其他发行版应该也是要装openssh这个包）：

```bash
sudo pacman -S openssh
```

```bash
git config --global user.name "你的github账户名"
git config --global user.email "你的github账户默认的邮箱地址"
```

之后生成你的ssh-key

```bash
ssh-keygen -t rsa -b 4096 -C "你的github账户默认的邮箱地址"
```

过程中会要求输入passphrase做进一步的加密保护，自行输入，直接回车表示没有passphrase。

假设你刚刚生成的sshkey的路径为~/.ssh/id_rsa（windows的路径形如/c/Users/ayamir/.ssh/id_rsa）

拷贝~/.ssh/id_rsa.pub的输入到剪切板（即拷贝公钥内容）

```bash
cat ~/.ssh/id_rsa.pub
```

选中输出并复制到系统剪切板

### 配置github的ssh key

浏览器打开这个网址：https://github.com/settings/keys

点击 New SSH key，之后将拷贝的公钥内容粘贴到key那个输入框中，tile框中的内容可以输入这个key的描述性文字，以我为例输入的是archlinux ssh

之后点击 Add SSH key，最后输入你的github密码确认即可

1. Add your ssh key to github account: [adding-a-new-ssh-key-to-your-github-account](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/adding-a-new-ssh-key-to-your-github-account)
2. Configure your ssh key, add follow content to `~/.ssh/config`

```text
Host github.com
    Hostname github.com
    User git
    IdentityFile ~/.ssh/id_rsa
```

## 参考

- [awesome-dotfiles](https://github.com/webpro/awesome-dotfiles)
- [https://github.com/mathiasbynens/dotfiles](https://github.com/mathiasbynens/dotfiles/blob/master/.macos)
- [打造舒适的macOS生产力环境](https://zhuanlan.zhihu.com/p/121798647/)
- [Mac 键盘快捷键](https://support.apple.com/zh-cn/HT201236/)
